---
layout: post
title: Curso de Python - Aula 10 - Entrada de dados e formatação de strings
categories:
- Aulas
- GeSpeak
- python
tags:
- Aulas
- GeSpeak
- python
status: publish
type: post
published: true
---
<br />
<p style="text-align: justify;">Olá alunos!</p><br />
<p style="text-align: justify;">A aula de hoje vai começar um pouco diferente, vou mostrar o resultado do exercício "mega sena" da <a title="Aula 9" href="http://evaldojunior.com.br/blog/?p=408" target="_blank">aula 9</a>.</p><br />
<p style="text-align: justify;">O exercício não retrata exatamente a Mega Sena real, já que o número de dezenas é menor e as dezenas sorteadas vão até 99, mas o que vale é a ideia, certo?</p><br />
<p style="text-align: justify;">Resolvi colocar o exercício aqui por que alguns me mandaram e-mail dizendo que estavam com algumas dificuldades para encontrar a solução. Então aqui vai:</p><br />
<br />
<code lang="python">#!/usr/bin/env python<br />
# -*- coding: utf-8 -*-<br />
import random<br />
num1 = ["0","1","2","3","4","5","6","7","8","9"]<br />
num2 = ["0","1","2","3","4","5","6","7","8","9"]<br />
#random.shuffle(num2)<br />
sorteados = "Dezenas sorteadas: "<br />
i = 0<br />
while i < 5:<br />
    dezena = "00"<br />
    while dezena == "00":<br />
        random.shuffle(num1)<br />
        random.shuffle(num2)<br />
        dezena = num1[0] + num2[0]<br />
    sorteados += dezena + " "<br />
    i += 1<br />
print(sorteados)</code><br />
<br />
<p style="text-align: justify;">Vejam que esta é apenas uma das maneiras de resolver o problema. Alguns alunos fizeram de formas diferentes que também dão certo, e alguns até utilizaram funções que eu nem mostrei na na aula, mas que serviram muito bem.</p><br />
<p style="text-align: justify;">Na linha 3 é importado o módulo <strong>random</strong>, que é onde está a função <strong>shuffle()</strong> que é a responsável por "misturar as bolas com os números". Nas linhas 4 e 5 são definidas duas listas com os números em formato de texto, talvez seja melhor trabalhar com números mesmo, mas eu achei que assim ficou simples para juntar os números e fazer as dezenas.</p><br />
<p style="text-align: justify;">Na linha 6 eu começo a escrever o texto das dezenas sorteadas e na linha 7 eu inicio um contador para o número de dezenas sorteadas. Já na linha 8 começa o primeiro laço do programa, que vai fazer o sorteio se repetir até termos 5 dezenas</p><br />
<p style="text-align: justify;">Na linha 9 eu já defini a dezena como "00" (zero zero) e então vem mais um laço que deve se repetir enquanto a dezena for "00".</p><br />
<p style="text-align: justify;">Então vem a função <strong>shuffle()</strong> que embaralha as listas com os números, e logo depois a variável "dezena" rebe o valor do primeiro elemento de cada lista. Aqui acaba o laço, caso a dezena seja "00" ele vai se repetir.</p><br />
<p style="text-align: justify;">Acabando o laço na linha 14 adicionamos o valor sorteado à variável "sorteados" e adicionamos 1 ao contador. Isso vai se repetir até o contador alcançar o número 5. Quando o laço acaba é exibida a variável "sorteados" com as dezenas sorteadas.</p><br />
<p style="text-align: justify;">Se vocês olharem bem para o código e até mesmo o executarem algumas vezes vão ver que podem cair dezenas iguais, o que não é bom, certo? Mas isso eu vou deixar para vocês resolverem =)</p><br />
<p style="text-align: justify;">Bem, tem um assunto que em breve vamos tratar, o desenvolvimento de programas com GUIs em Python, para isso vamos usar o <a title="PyGTK" href="http://www.pygtk.org/" target="_blank">PyGTK</a>. Isso ainda vai demorar um pouquinho, mas para quem quiser ver mais ou menos como funciona é só acompanhar o GeSpeak. O GeSpeak é um front end para o espeak, um sintetizador de voz para Linux. O GeSpeak já passou por algumas grandes mudanças de linguagem, mas acredito que o Python veio para ficar =) Então se você quiser conferir como é desenvolvido um programa em PyGTK é só fazer o checkout da versão de desenvolvimento do GeSpeak, como ele está no <a title="Google Code" href="http://code.google.com/intl/pt-BR/" target="_blank">Google Code</a> então isto é bem simples de ser feito, basta ter o subversion instalado e rodar este comando (em apenas uma linha):</p><br />
<p style="text-align: justify;"><span style="color: #000080;">svn checkout http://gespeak.googlecode.com/svn/branches/python/ gespeak-read-only</span></p><br />
<p style="text-align: justify;">Isto vai criar um diretório chamado gespeak-read-only, dentro dele estão os arquivos .py, para rodar o GeSpeak use o executável gespeak:</p><br />
<p style="text-align: justify;"><span style="color: #000080;">./gespeak</span></p><br />
<p style="text-align: justify;">O GeSpeak é desenvolvido por mim e pelo <a title="Walter Cruz" href="http://devlog.waltercruz.com/" target="_blank">Walter Cruz</a>, e se tiver mais alguém interessado em participar do projeto é só falar comigo =)</p><br />
<p style="text-align: justify;">Agora chega de enrolação e vamos à aula de hoje!</p><br />
<h3 style="text-align: justify;">Hora da aula!</h3><br />
<p style="text-align: justify;">A aula de hoje é uma base para a aula da semana que vem. Hoje veremos a entrada de dados do usuário e na semana que vem vamos fazer nossas primeiras funções, ou seja já estamos começando a deixar a fase do script, que é uma sequencia de instruções que é executada sem intervenção do usuário e vamos entrar na fase dos programas mais complexos que dependem do usuário para funcionar.</p><br />
<p style="text-align: justify;">A função que vamos usar para receber os dados dos usuários é a <strong>raw_input()</strong>. Esta função lê dados na entrada padrão, que é o teclado na maioria das vezes, e depois retorna estes dados. A forma mais simples de armazenar os dados fornecidos pelo usuário é assim:</p><br />
<br />
<code lang="python">#!/usr/bin/python<br />
# -*- coding: utf-8 -*-<br />
nome = raw_input("Digite o seu nome: ")<br />
print(nome)</code><br />
<p style="text-align: justify;">Neste caso a variável "nome" irá armazenar o que for digitado pelo usuário e depois será exibida na tela.</p><br />
<p style="text-align: justify;">Você também pode usar funções de conversão para os dados fornecidos. Vamos dizer que você queira números inteiros ou reais:</p><br />
<br />
<code lang="python">#!/usr/bin/python<br />
# -*- coding: utf-8 -*-<br />
inteiro = int(raw_input("Um número inteiro: "))<br />
real = float(raw_input("Um número real: "))</code><br />
<p style="text-align: justify;">Simples, não?</p><br />
<p style="text-align: justify;">Agora vamos juntar o que vimos nas outras aulas com estas funções de entradas de dados. Vou fazer um pequeno exercício aqui, a ideia é fazer um programa para um colecionador de carros. Primeiro o sujeito vai dizer quantos carros ele tem, depois vai colocar o nome dos carros e por último a placa de cada um. Vamos ver como fica este código? Olha só:</p><br />
<br />
<code lang="python">#!/usr/bin/python<br />
# -*- coding: utf-8 -*-<br />
print("Bem vindo ao Colecionador de Carros 10.000 Plus!")<br />
nome = raw_input("Qual é o seu nome? ")<br />
print("Olá " + nome + ", vamos à sua coleção?")<br />
quantidade = int(raw_input("Quantos carros o senhor tem? "))<br />
i = 1<br />
carros = []<br />
placas = []<br />
while i <= quantidade:<br />
	carros.append(raw_input("Carro %i: " % i))<br />
	i += 1<br />
print("Agora as placas...")<br />
i = 0<br />
while i < quantidade:<br />
	placas.append(raw_input("Placa do %s: " % carros[i]))<br />
	i += 1<br />
print("Hora de mostrar a sua coleção!")<br />
i = 0<br />
while i < quantidade:<br />
	print("O %s tem placas %s" %(carros[i], placas[i]))<br />
	i += 1<br />
print("Então é isso, tchau!")</code><br />
<br />
<p style="text-align: justify;">A única novidade aqui é a forma como eu exibi os valores dentro das frases, usando o %. O nome disso é "formatar strings", e é um recurso muito útil. Ele funciona assim, string para formatar à esquerda, porcentagem, e valores à direita:</p><br />
<p style="text-align: justify;">"Aqui %s incluído um texto" % "será"</p><br />
<p style="text-align: justify;">Resultado: "Aqui será incluído um texto"</p><br />
<p style="text-align: justify;">"Agora %s dois %s" % ("serão", "textos")</p><br />
<p style="text-align: justify;">Resultado: "Agora serão dois textos"</p><br />
<p style="text-align: justify;">Quando apenas um valor for inserido na string basta coloca-lo após o %, mas quando mais de um valor for adicionado é necessário coloca-los dentro de uma tupla, que é o caso do segundo exemplo.</p><br />
<p style="text-align: justify;">Para inserir os valores você pode usar esta tabela simplificada:</p><br />
<br />
<table style="margin: 3px auto;" border="1"><br />
<tbody><br />
<tr><br />
<th>Expressão</th><br />
<th>Significado</th><br />
</tr><br />
<tr><br />
<td>%s</td><br />
<td>Uma string</td><br />
</tr><br />
<tr><br />
<td>%c</td><br />
<td>Caractere</td><br />
</tr><br />
<tr><br />
<td>%d</td><br />
<td>Decimal, inteiro</td><br />
</tr><br />
<tr><br />
<td>%f</td><br />
<td>Real (float)</td><br />
</tr><br />
<tr><br />
<td>%%</td><br />
<td>Um '%'</td><br />
</tr><br />
</tbody></table><br />
<p style="text-align: justify;">A última opção é interessante, é assim que se mostra um símbolo % em uma string em Python.</p><br />
<br />
<h3 style="text-align: justify;">Lição de casa</h3><br />
<p style="text-align: justify;">1) Sala de aula: Faça um programa que pergunte o número de alunos em uma sala de aula, depois pergunte o nome de cada um, após isso ele deve pedir 4 notas de cada aluno e fazer a média entre elas, se a média for maior que 6 o aluno está aprovado, senão reprova. No fim deve ser exibida uma tabela assim:</p><br />
<p style="text-align: justify;">Nome do aluno - nota1, nota2, nota3, nota4 - media - aprovado/reprovado</p><br />
<p style="text-align: justify;">Hoje é só esse exercício =) Divertido ele hehe.</p><br />
<p style="text-align: justify;">InFog</p>
