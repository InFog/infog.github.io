---
layout: post
title: Curso de Python - Aula 12 - Manipulando Arquivos
categories:
- Aulas
- python
tags:
- Aulas
- python
status: publish
type: post
published: true
---
<br />
<p style="text-align: justify;">Olá alunos!</p><br />
<p style="text-align: justify;">Semana passada não teve aula, eu estava viajando e não consegui deixar a aula pronta, mas agora voltamos à programação normal!</p><br />
<p style="text-align: justify;">O pessoal ficou com algumas dúvidas sobre o exercício dos dados, mas em geral conseguiu resolver.</p><br />
<p style="text-align: justify;">Hoje vamos tratar sobre a manipulação básica de arquivos. Vamos aprender a abrir um arquivo, gravar informações nele e também à ler informações dele.</p><br />
<p style="text-align: justify;">Primeiro vamos ver como adicionar algum texto à um arquivo:</p><br />
<br />
<code lang="python">#!/usr/bin/env python<br />
# -*- coding: utf-8 -*-<br />
arq = open('/tmp/lista.txt', 'w')<br />
texto = """<br />
Lista de Alunos<br />
---<br />
João da Silva<br />
José Lima<br />
Maria das Dores<br />
"""<br />
arq.write(texto)<br />
arq.close()</code><br />
<p style="text-align: justify;">É bem simples, não? Na linha 3 é aberto o arquivo "/tmp/lista.txt" em modo de gravação, caso o arquivo não exista ele será criado. Na quarta linha é definida a variável "texto" que, na linha 11, é incluída ao arquivo "/tmp/lista.txt", que corresponde à variável "arq". Na linha 12 o arquivo é fechado e então o programa termina. Aqui eu fiz um cat no arquivo e ele apareceu com as informações que estavam na variável "texto".</p><br />
<p style="text-align: justify;">Pessoal, entendam que esta é uma das maneiras mais simples de guardar informações, todos os programas que fizemos até agora perdem as informações assim que terminados.</p><br />
<p style="text-align: justify;">Também é possível escrever em arquivos usando listas no lugar de variáveis apenas em texto:</p><br />
<br />
<code lang="python">#!/usr/bin/env python<br />
# -*- coding: utf-8 -*-<br />
arq = open('/tmp/lista.txt', 'w')<br />
texto = []<br />
texto.append('Lista de Alunos\n')<br />
texto.append('---\n')<br />
texto.append('João da Silva\n')<br />
texto.append('José Lima\n')<br />
texto.append('Maria das Dores')<br />
arq.writelines(texto)<br />
arq.close()</code><br />
<p style="text-align: justify;">Isto vai gerar o mesmo arquivo que o exemplo anterior, a diferença é que deu mais trabalho, mas dependendo da situação este modo pode ser melhor.</p><br />
<p style="text-align: justify;">Certo, agora que já sabemos como adicionar informações vamos aprender a ler informações:</p><br />
<br />
<code lang="python">#!/usr/bin/env python<br />
# -*- coding: utf-8 -*-<br />
arq = open('/tmp/lista.txt', 'r')<br />
texto = arq.read()<br />
print(texto)<br />
arq.close()</code><br />
<p style="text-align: justify;">A função <strong>read()</strong> lê o arquivo todo de uma vez para uma variável. Isso pode ser legal em casos como este, em que eu quero apenas exibir a variável. Mas vejam este outro exemplo:</p><br />
<br />
<code lang="python">#!/usr/bin/env python<br />
# -*- coding: utf-8 -*-<br />
arq = open('/tmp/lista.txt', 'r')<br />
texto = arq.readlines()<br />
for linha in texto :<br />
    print(linha)<br />
arq.close()<br />
</code><br />
<br />
<p style="text-align: justify;">A função <strong>readlines()</strong> retorna cada linha do arquivo como um elemento de uma lista. Tudo o que já sabemos sobre a manipulação de listas pode ser usado aqui =)</p><br />
<p style="text-align: justify;">Lição de Casa</p><br />
<p style="text-align: justify;">Usando apenas os modos de abertura de arquivos mostrados nesta aula ('w' e 'r') faça o seguinte:</p><br />
<p style="text-align: justify;">1) Grave esta lista em um arquivo (Copie para o seu código para isso):</p><br />
<br />
<p style="text-align: justify;">Gol<br />
Uno<br />
Palio<br />
EcoSport<br />
Clio<br />
Strada<br />
Golf<br />
<p style="text-align: justify;">2) Inverta a ordem da lista e grave em um segundo arquivo.</p><br />
<p style="text-align: justify;">3) Ordene a lista alfabeticamente em um terceiro arquivo.</p><br />
<p style="text-align: justify;">4) Com a lista organizada faça a sua numeração em um quarto arquivo, assim:</p><br />
<p style="text-align: justify;">1 - Clio<br />
2 - EcoSport...</p><br />
<p style="text-align: justify;">Boa sorte!</p>
