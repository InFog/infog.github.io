---
layout: post
title: ! 'Expressões Regulares: Casar textos entre chaves'
categories:
- Blog
- PHP
- python
- Tutoriais
tags: []
status: publish
type: post
published: true
meta:
  _edit_last: '1'
  _sexybookmarks_shortUrl: http://tinyurl.com/39whum5
  _sexybookmarks_permaHash: 62514ede9efe9f0edba675dd8368730d
---
<p style="text-align: justify;">Olá, pessoal!</p><br />
<p style="text-align: justify;">Hoje vou mostrar uma dica bem legal, como casar textos entre chaves usando expressões regulares.</p><br />
<p style="text-align: justify;">A necessidade surgiu de um amigo, o <a title="Atípico" href="http://atipico.com.br" target="_blank">Rogério</a>, e eu resolvi buscar uma solução.</p><br />
<p style="text-align: justify;">Para o exemplo vou utilizar a string "ola, {sou} uma string com {varios} caracteres {especiais}".</p><br />
<p style="text-align: justify;">A ideia aqui é que o retorno seja composto pelos textos "{sou}", "{varios}" e "{especiais}".</p><br />
<p style="text-align: justify;">Então vejam a solução em PHP:</p><br />
<code lang="php">$pattern = '/\{.*?\}/';<br />
$text =  "ola, {sou} uma string com {varios} caracteres {especiais}";<br />
preg_match_all($pattern, $text, $result);<br />
print_r($result);</code><br />
<p style="text-align: justify;">O resultado seria:</p><br />
<code>Array<br />
(<br />
    [0] => Array<br />
    (<br />
        [0] => {sou}<br />
        [1] => {varios}<br />
        [2] => {especiais}<br />
    )<br />
)<br />
</code><br />
<p style="text-align: justify;">Isso mesmo, um array com cada resultado em um ítem.</p><br />
<p style="text-align: justify;">Agora uma solução em Python:</p><br />
<code lang="python">#!/usr/bin/env python<br />
# -*- coding: utf-8 -*-<br />
import re<br />
pat = re.compile('\{.*?\}')<br />
text = "ola, {sou} uma string com {varios} caracteres {especiais}"<br />
results = re.findall(pat, text)<br />
for result in results:<br />
    print(result)<br />
</code><br />
<p style="text-align: justify;">O resultado seria:</p><br />
<p style="text-align: justify;">{sou}<br /><br />
{varios}<br /><br />
{especiais}</p><br />
<p style="text-align: justify;">No Python foi necessário utilizar o módulo <strong>re</strong> para tratamento das expressões regulares.</p><br />
<p style="text-align: justify;">Então, essa foi a dica de hoje. Alguém quer mostrar a solução em outra linguagem, ou melhorar as propostas? É só comentar.</p><br />
<p style="text-align: justify;">InFog</p>
