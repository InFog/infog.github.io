---
layout: post
title: ! 'Expressões Regulares: Casar textos entre chaves'
categories:
- Blog
- PHP
- python
- Tutoriais
tags: []
status: publish
type: post
published: true
meta:
  _edit_last: '1'
  _sexybookmarks_shortUrl: http://tinyurl.com/39whum5
  _sexybookmarks_permaHash: 62514ede9efe9f0edba675dd8368730d
---
<p style="text-align: justify;">Olá, pessoal!</p>
<p style="text-align: justify;">Hoje vou mostrar uma dica bem legal, como casar textos entre chaves usando expressões regulares.</p>
<p style="text-align: justify;">A necessidade surgiu de um amigo, o <a title="Atípico" href="http://atipico.com.br" target="_blank">Rogério</a>, e eu resolvi buscar uma solução.</p>
<p style="text-align: justify;">Para o exemplo vou utilizar a string "ola, {sou} uma string com {varios} caracteres {especiais}".</p>
<p style="text-align: justify;">A ideia aqui é que o retorno seja composto pelos textos "{sou}", "{varios}" e "{especiais}".</p>
<p style="text-align: justify;">Então vejam a solução em PHP:</p>
<code lang="php">$pattern = '/\{.*?\}/';
$text =  "ola, {sou} uma string com {varios} caracteres {especiais}";
preg_match_all($pattern, $text, $result);
print_r($result);</code>
<p style="text-align: justify;">O resultado seria:</p>
<code>Array
(
    [0] => Array
    (
        [0] => {sou}
        [1] => {varios}
        [2] => {especiais}
    )
)
</code>
<p style="text-align: justify;">Isso mesmo, um array com cada resultado em um ítem.</p>
<p style="text-align: justify;">Agora uma solução em Python:</p>
<code lang="python">#!/usr/bin/env python
# -*- coding: utf-8 -*-
import re
pat = re.compile('\{.*?\}')
text = "ola, {sou} uma string com {varios} caracteres {especiais}"
results = re.findall(pat, text)
for result in results:
    print(result)
</code>
<p style="text-align: justify;">O resultado seria:</p>
<p style="text-align: justify;">{sou}<br />
{varios}<br />
{especiais}</p>
<p style="text-align: justify;">No Python foi necessário utilizar o módulo <strong>re</strong> para tratamento das expressões regulares.</p>
<p style="text-align: justify;">Então, essa foi a dica de hoje. Alguém quer mostrar a solução em outra linguagem, ou melhorar as propostas? É só comentar.</p>
<p style="text-align: justify;">InFog</p>
